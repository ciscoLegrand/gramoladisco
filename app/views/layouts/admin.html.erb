<!DOCTYPE html>
<html>
  <head>
    <title>Gramoladisco</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/6.0.0-beta.2/dropzone.css" integrity="sha512-b3Wb3Os4sxJRdYkfCWtFjvuN/OlfBNtBGJknON+zbxU6M7GRYdII8m1W7TMsls/kwuwtq1wt7TvuF58Sd/4AGg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <%= javascript_importmap_tags %>
  </head>

 <body>
    <div class="w-full flex justify-between" data-controller="toogle">
      <%= render 'layouts/shared/notification' %>
      <!-- aside menu -->
      <aside  data-controller='decrease'
        data-decrease-target='aside'
        class="relative aside-default md:flex lg:block <%= cookies['asideState'] ? 'lg:w-2/12' : 'lg:w-[4%]' %>">
        <!--LOGO--->
        <%= render UI::Logo.new(link: root_path, logo: 'gramola-logo.png') %>
        <!-- toggle button -->
        <%= active_link_to '', data: { action: 'click->decrease#toggle' }, class: 'absolute top-3 -right-4 nav-link p-1 text-center rounded-full border border-slate-600 bg-white hover:bg-slate-200 text-indigo-500 shadow-md shadow-slate-300 z-10' do %>
          <%= inline_svg_tag('icons/aside/chevron-left.svg', class: 'w-6 h-6', data: { 'decrease-target': 'iconLeft' }) %>
          <%= inline_svg_tag('icons/aside/chevron-right.svg', class: 'w-6 h-6 hidden', data: { 'decrease-target': 'iconRight' }) %>
        <% end %>

        <!---LINK OPTIONS-->
        <nav class="w-full flex flex-col items-center border-t border-gray-700 gap-8">
          <% aside_items.each do |item| %>
            <%= render UI::Navbar::NavItem.new(path: item[:path], title: item[:title], icon: item[:icon]) %>
          <% end %>
        </nav>
        <!-- mobile close button -->
        <div class="w-full fixed top-2 right-[40%] flex justify-end md:hidden z-10">
          <button class="w-10 ml-5 group focus:outline-none">
            <div class="rounded-xl bg-black h-1 w-8 my-1 relative top-2 rotate-45 "></div>
            <div class=""></div>
            <div class="rounded-xl bg-black h-1 w-8 my-1 relative -rotate-45 top"></div>
          </button>
        </div>

        <!-- user card -->
        <%= render UI::Cards::User.new(
                      user: nil,
                      options: {
                        container: {
                          style: 'absolute bottom-4 left-2 w-[93%] mr-2 flex flex-col items-center bg-indigo-700 rounded-xl gap-8 shadow-md shadow-slate-700'
                        },
                        button: {
                          style: 'w-full py-8 px-4 hover:cursor-pointer flex justify-center items-center gap-4'
                        },
                        avatar:{
                          style: 'w-12 h-12 p-5 flex justify-center items-center bg-corporation border-2 border-indigo-600 bg-slate-950 rounded-full shadow-lg text-white hover:text-red-500 hover:duration-500 duration-500 text-center font-semibold uppercase'
                        },
                        dropdown: {
                          style: 'w-64 flex flex-col gap-6 hidden border-2 border-slate-950 text-slate-200 shadow-lg shadow-slate-500 rounded-lg p-4 bg-slate-950 opacity-0 transition-opacity duration-300 ease-in-out',
                          position: 'absolute -top-40 left-0'
                        }
                      }
                    ) %>
      </aside>

      <main class="w-full flex flex-col bg-gray-800 transition-all duration-500 ease-in-out relative z-1">
        <!-- navbar -->
        <%= render UI::Navbar::Menu.new(orientation: :horizontal, style: {navbar: 'w-full grid grid-cols-1 lg:grid-cols-2 py-2 px-12 text-slate-100 bg-blue-950 text-2xl text-center  gap-4'}) do |menu| %>
          <div class="flex-1 flex justify-start items-center gap-1 whitespace-nowrap">
            <%#= render_breadcrumbs separator: '> ' %>
            aqui > los > breadcrumbs
          </div>
          <%= render UI::Cards::User.new(
                      user: nil,
                      options: aside_user_card_options
                    ) %>
        <% end %>
        <%= yield %>
      </main>
    </div>
  </body>
</html>
